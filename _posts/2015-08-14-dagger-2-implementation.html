---
layout: post
title: Dagger 2 implementation
date: '2015-08-14T23:22:00.000+02:00'
author: sergio
tags: 
modified_time: '2015-08-25T00:28:36.408+02:00'
thumbnail: http://2.bp.blogspot.com/-7VU-wsUnU2I/Vc5UpBU4qwI/AAAAAAAAAfE/Z6rFO169QuY/s72-c/Captura%2Bde%2Bpantalla%2B2015-08-14%2Ba%2Blas%2B21.12.19.png
blogger_id: tag:blogger.com,1999:blog-3117841513738974018.post-5559796361189433422
blogger_orig_url: http://fsergio101dev.blogspot.com/2015/08/dagger-2-implementation.html
---

<h2>Before start Reading this code post...</h2><div><br />Maybe I'm going to skip some basic concepts of Dagger 1 and 2 and matters about Dagger 2 code generation but I want to be focused in this implementation and the posts are taking already too long... <!--more-->Anyway I will give you some interesting references at the end of the post. But something almost compulsory, it's to read my previous post:&nbsp;<a href="{% post_url 2015-08-14-dagger-2-why-not %}">Dagger 2... Why not?</a>&nbsp;because this implementation is based on the experience I told there.</div><div><br /></div><h2>Project description</h2><div><br />Basically this is a dummy application really poor in UI. On the other hand project structure is a little complex comparing with UI.&nbsp;</div><div><br /></div>

<div><br /><table cellpadding="0" cellspacing="0" class="tr-caption-container" style="clear: right; float: left; margin-bottom: 1em; margin-right: 1em; text-align: left;"><tbody><tr><td style="text-align: center;"><a href="http://2.bp.blogspot.com/-7VU-wsUnU2I/Vc5UpBU4qwI/AAAAAAAAAfE/Z6rFO169QuY/s1600/Captura%2Bde%2Bpantalla%2B2015-08-14%2Ba%2Blas%2B21.12.19.png" imageanchor="1" style="clear: left; margin-bottom: 1em; margin-left: auto; margin-right: auto;"><img border="0" height="640" src="http://2.bp.blogspot.com/-7VU-wsUnU2I/Vc5UpBU4qwI/AAAAAAAAAfE/Z6rFO169QuY/s640/Captura%2Bde%2Bpantalla%2B2015-08-14%2Ba%2Blas%2B21.12.19.png" width="265" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Dagger 2 project classes</td></tr></tbody></table></div>

<div>The app starts a main Activity which is the container of some fragments and dependency injection is resolved in those UI classes. Pay special attention to "Section Concept".</div><div><br /></div><div>At left you can see the package explorer showing all the classes distributed inside his corresponding package.<br /><br />Injected classes are inside test package, A, B, C, D, E, NotScopedProperty and SectionProperty classes do almost nothing and the only purpose of their existence is checking if dependency injection works, how it works and some matters about singletons and scopes. We can check all those things with empty objects...<br /><br />There is an implementation of a logger Log4MeImpl and its interface that will be injected as well, doing something more interesting. There is a list of injections as a singleton in the app where the app registers all the injected objects with the aim of print that list in the last loaded fragment. Then we will get the result of the injection, in order to check if injected object where living at the expected context.<br /><br /><h2>Let's start</h2></div><div><br />The first interesting thing is creating the first component, the App component. This is not depending on any other and it can be created calling &nbsp;"create()" method from the dagger component generated class. Calling "create" method if necessary modules of AppComponent will be instantiated by using no arg constructor. That means, if you need some arg in your modules then you must call:<br /><span style="color: #60a0b0; font-style: italic; line-height: 16.25px;">DaggerAppComponent.builder().appModule(new AppModule(YOUR_ARGS)).build()</span></div><div><br /></div><div>App.class</div><div class="separator" style="clear: both; text-align: center;"></div><!-- HTML generated using hilite.me --><br /><div style="background: #f0f0f0; border-width: .1em .1em .1em .8em; border: solid gray; overflow: auto; padding: .2em .6em; width: auto;"><pre style="line-height: 125%; margin: 0;"><span style="color: #007020; font-weight: bold;">public</span> <span style="color: #007020; font-weight: bold;">class</span> <span style="color: #0e84b5; font-weight: bold;">App</span> <span style="color: #007020; font-weight: bold;">extends</span> Application <span style="color: #666666;">{</span><br /><span style="color: #007020; font-weight: bold;">private</span> AppComponent appComponent<span style="color: #666666;">;</span><br /><span style="color: #666666;">.....</span><br />  <span style="color: #007020; font-weight: bold;">private</span> <span style="color: #902000;">void</span> <span style="color: #06287e;">initDI</span><span style="color: #666666;">()</span> <span style="color: #666666;">{</span><br />    appComponent <span style="color: #666666;">=</span> DaggerAppComponent<span style="color: #666666;">.</span><span style="color: #4070a0;">create</span><span style="color: #666666;">();</span><br /><br />    <span style="color: #60a0b0; font-style: italic;">/** DaggerAppComponent.create() is equivalent to :</span><br /><span style="color: #60a0b0; font-style: italic;">     * DaggerAppComponent.builder().appModule(new AppModule()).build()</span><br /><span style="color: #60a0b0; font-style: italic;">     * when module has not arguments</span><br /><span style="color: #60a0b0; font-style: italic;">     **/</span><br /><br />    appComponent<span style="color: #666666;">.</span><span style="color: #4070a0;">inject</span><span style="color: #666666;">(</span><span style="color: #007020; font-weight: bold;">this</span><span style="color: #666666;">);</span><br />  <span style="color: #666666;">}</span><br /><br /><span style="color: #666666;">....</span><br />  <span style="color: #007020; font-weight: bold;">public</span> AppComponent <span style="color: #06287e;">getAppComponent</span><span style="color: #666666;">()</span> <span style="color: #666666;">{</span><br />    <span style="color: #007020; font-weight: bold;">return</span> appComponent<span style="color: #666666;">;</span><br />  <span style="color: #666666;">}</span><br /><span style="color: #666666;">}</span><br /></pre></div><br />AppComponent.class<br /><!-- HTML generated using hilite.me --><br /><div style="background: #f0f0f0; border-width: .1em .1em .1em .8em; border: solid gray; overflow: auto; padding: .2em .6em; width: auto;"><pre style="line-height: 125%; margin: 0;"><span style="color: #555555; font-weight: bold;">@Singleton</span> <span style="color: #555555; font-weight: bold;">@Component</span><span style="color: #666666;">(</span>modules <span style="color: #666666;">=</span> AppModule<span style="color: #666666;">.</span><span style="color: #4070a0;">class</span><span style="color: #666666;">)</span><br /><span style="color: #007020; font-weight: bold;">public</span> <span style="color: #007020; font-weight: bold;">interface</span> <span style="color: #0e84b5; font-weight: bold;">AppComponent</span> <span style="color: #666666;">{</span><br />  <span style="color: #902000;">void</span> <span style="color: #06287e;">inject</span><span style="color: #666666;">(</span>App app<span style="color: #666666;">);</span><br />  A <span style="color: #06287e;">provideA</span><span style="color: #666666;">();</span><br />  List<span style="color: #666666;">&lt;</span>String<span style="color: #666666;">&gt;</span> <span style="color: #06287e;">provideDiInjectionHistory</span><span style="color: #666666;">();</span><br />  Log4Me <span style="color: #06287e;">provideLog4Me</span><span style="color: #666666;">();</span><br /><span style="color: #666666;">}</span><br /></pre></div><br />Here AppComponent has some interesting information to tell us:<br /><br /><ol><li>&nbsp;@Singleton annotation means this is the scope and injections provided here and annotated with @Singleton will have a unique instance on the app.</li><li>inject() method is the replacement for the old module option injects={}</li><li>AppComponent serves 3 objects. This is because we will create a relationship using ActivityComponent and we want to inject those three objects.&nbsp;</li></ol><br />Now, here you can see the provision of the served objects in AppComponent:<br /><br />AppModule.class:<br /><!-- HTML generated using hilite.me --><br /><div style="background: #f0f0f0; border-width: .1em .1em .1em .8em; border: solid gray; overflow: auto; padding: .2em .6em; width: auto;"><pre style="line-height: 125%; margin: 0;"><span style="color: #555555; font-weight: bold;">@Module</span><span style="color: #666666;">(</span>includes <span style="color: #666666;">=</span> IncludedModule<span style="color: #666666;">.</span><span style="color: #4070a0;">class</span><span style="color: #666666;">)</span><br /><span style="color: #007020; font-weight: bold;">public</span> <span style="color: #007020; font-weight: bold;">class</span> <span style="color: #0e84b5; font-weight: bold;">AppModule</span> <span style="color: #666666;">{</span><br />  <span style="color: #555555; font-weight: bold;">@Singleton</span> <span style="color: #555555; font-weight: bold;">@Provides</span> List<span style="color: #666666;">&lt;</span>String<span style="color: #666666;">&gt;</span> provideDiInjectionHistory<span style="color: #666666;">(){</span><br />    <span style="color: #007020; font-weight: bold;">return</span> <span style="color: #007020; font-weight: bold;">new</span> ArrayList<span style="color: #666666;">&lt;&gt;();</span><br />  <span style="color: #666666;">}</span><br /><span style="color: #666666;">}</span><br /></pre></div><br />Note includes module option is still useful!!<br /><br />IncludedModule.class:<br /><!-- HTML generated using hilite.me --><br /><div style="background: #f0f0f0; border-width: .1em .1em .1em .8em; border: solid gray; overflow: auto; padding: .2em .6em; width: auto;"><pre style="line-height: 125%; margin: 0;"><span style="color: #555555; font-weight: bold;">@Module</span><br /><span style="color: #007020; font-weight: bold;">public</span> <span style="color: #007020; font-weight: bold;">class</span> <span style="color: #0e84b5; font-weight: bold;">IncludedModule</span> <span style="color: #666666;">{</span><br />  <span style="color: #555555; font-weight: bold;">@Provides</span> <span style="color: #555555; font-weight: bold;">@Singleton</span> A provideA<span style="color: #666666;">(){</span><br />    <span style="color: #007020; font-weight: bold;">return</span> <span style="color: #007020; font-weight: bold;">new</span> <span style="color: #06287e;">A</span><span style="color: #666666;">();</span><br />  <span style="color: #666666;">}</span><br />  <span style="color: #555555; font-weight: bold;">@Provides</span> <span style="color: #555555; font-weight: bold;">@Singleton</span> Log4Me provideLog4Me<span style="color: #666666;">(){</span><br />    <span style="color: #007020; font-weight: bold;">return</span> <span style="color: #007020; font-weight: bold;">new</span> <span style="color: #06287e;">Log4MeImpl</span><span style="color: #666666;">();</span><br />  <span style="color: #666666;">}</span><br /><span style="color: #666666;">}</span><br /></pre></div><br />Note as well that @Singleton annotation has to be present in the corresponding provisioning method.<br /><br />Let's go now with something a little bit more difficult: Abstract BaseInjectionActivity<br /><br />BaseInjectionActivity.class <br /><!-- HTML generated using hilite.me --><br /><div style="background: #f0f0f0; border-width: .1em .1em .1em .8em; border: solid gray; overflow: auto; padding: .2em .6em; width: auto;"><pre style="line-height: 125%; margin: 0;"><span style="color: #007020; font-weight: bold;">public</span> <span style="color: #007020; font-weight: bold;">abstract</span> <span style="color: #007020; font-weight: bold;">class</span> <span style="color: #0e84b5; font-weight: bold;">BaseInjectionActivity</span><span style="color: #666666;">&lt;</span>T<span style="color: #666666;">&gt;</span> <span style="color: #007020; font-weight: bold;">extends</span> AppCompatActivity<span style="color: #666666;">{</span><br /><br />  <span style="color: #007020; font-weight: bold;">protected</span> T activityComponent<span style="color: #666666;">;</span><br /><br />  <span style="color: #555555; font-weight: bold;">@Override</span> <span style="color: #007020; font-weight: bold;">protected</span> <span style="color: #902000;">void</span> onCreate<span style="color: #666666;">(</span>Bundle savedInstanceState<span style="color: #666666;">)</span> <span style="color: #666666;">{</span><br />    <span style="color: #007020; font-weight: bold;">super</span><span style="color: #666666;">.</span><span style="color: #4070a0;">onCreate</span><span style="color: #666666;">(</span>savedInstanceState<span style="color: #666666;">);</span><br />    initDI<span style="color: #666666;">();</span><br />  <span style="color: #666666;">}</span><br /><br />  <span style="color: #007020; font-weight: bold;">protected</span> <span style="color: #007020; font-weight: bold;">abstract</span> <span style="color: #902000;">void</span> <span style="color: #06287e;">initDI</span><span style="color: #666666;">();</span><br /><br />  <span style="color: #007020; font-weight: bold;">public</span> AppComponent <span style="color: #06287e;">getAppComponent</span><span style="color: #666666;">()</span> <span style="color: #666666;">{</span><br />    AppComponent appComponent <span style="color: #666666;">=</span> <span style="color: #666666;">((</span>App<span style="color: #666666;">)</span> getApplication<span style="color: #666666;">()).</span><span style="color: #4070a0;">getAppComponent</span><span style="color: #666666;">();</span><br />    <span style="color: #007020; font-weight: bold;">return</span> appComponent<span style="color: #666666;">;</span><br />  <span style="color: #666666;">}</span><br /><br />  <span style="color: #007020; font-weight: bold;">public</span> Object <span style="color: #06287e;">getActivityComponent</span><span style="color: #666666;">()</span> <span style="color: #666666;">{</span><br />      <span style="color: #007020; font-weight: bold;">return</span> activityComponent<span style="color: #666666;">;</span><br />  <span style="color: #666666;">}</span><br /><br /><span style="color: #666666;">}</span><br /></pre></div><br />I did my best in order to hide DI config for the rest of activities bus it was unable for me... the minimal flexibility of dagger generated code makes compulsory the execution of the following lines in your final activity...  <br /><!-- HTML generated using hilite.me --><br /><div style="background: #f0f0f0; border-width: .1em .1em .1em .8em; border: solid gray; overflow: auto; padding: .2em .6em; width: auto;"><pre style="line-height: 125%; margin: 0;"><span style="color: #555555; font-weight: bold;">@Override</span> <span style="color: #007020; font-weight: bold;">protected</span> <span style="color: #902000;">void</span> initDI<span style="color: #666666;">()</span> <span style="color: #666666;">{</span><br />    activityComponent <span style="color: #666666;">=</span> DaggerMainActivityComponent<span style="color: #666666;">.</span><span style="color: #4070a0;">builder</span><span style="color: #666666;">().</span><span style="color: #4070a0;">appComponent</span><span style="color: #666666;">(</span>getAppComponent<span style="color: #666666;">())</span><br />        <span style="color: #666666;">.</span><span style="color: #4070a0;">activityModule</span><span style="color: #666666;">(</span><span style="color: #007020; font-weight: bold;">new</span> ActivityModule<span style="color: #666666;">(</span><span style="color: #007020; font-weight: bold;">this</span><span style="color: #666666;">))</span><br />        <span style="color: #666666;">.</span><span style="color: #4070a0;">mainActivityModule</span><span style="color: #666666;">(</span><span style="color: #007020; font-weight: bold;">new</span> MainActivityModule<span style="color: #666666;">(</span><span style="color: #007020; font-weight: bold;">this</span><span style="color: #666666;">)).</span><span style="color: #4070a0;">build</span><span style="color: #666666;">();</span><br />    activityComponent<span style="color: #666666;">.</span><span style="color: #4070a0;">injectActivity</span><span style="color: #666666;">(</span><span style="color: #007020; font-weight: bold;">this</span><span style="color: #666666;">);</span><br />  <span style="color: #666666;">}</span><br /></pre></div><br />you can't use superclasses... it's a pity. At least the reference to the component is a generic object parametrized and all stuff about keeping the reference and getting it can be hidden. <br /><br />Good, already seen MainActivityComponent initialization let's have a look... Component needs modules, the first one is about common provisions of all activities and the second one is specific for this activity. I took this idea from some implementations of Dagger 1 and I thought about keeping it as a good practice.<br /><br />MainActivity component needs as well the AppComponent for his initialization, that is because MainActivityComponent has AppComponent as a dependency. You can have so many dependencies and modules as you need for your component initialization...<br /><br />MainActivityComponent.class<br /><!-- HTML generated using hilite.me --><br /><div style="background: #f0f0f0; border-width: .1em .1em .1em .8em; border: solid gray; overflow: auto; padding: .2em .6em; width: auto;"><pre style="line-height: 125%; margin: 0;"><span style="color: #555555; font-weight: bold;">@PerActivity</span><br /><span style="color: #555555; font-weight: bold;">@Component</span><span style="color: #666666;">(</span>dependencies <span style="color: #666666;">=</span> AppComponent<span style="color: #666666;">.</span><span style="color: #4070a0;">class</span><span style="color: #666666;">,</span> modules <span style="color: #666666;">=</span> <span style="color: #666666;">{</span>ActivityModule<span style="color: #666666;">.</span><span style="color: #4070a0;">class</span><span style="color: #666666;">,</span> MainActivityModule<span style="color: #666666;">.</span><span style="color: #4070a0;">class</span><span style="color: #666666;">})</span><br /><span style="color: #007020; font-weight: bold;">public</span> <span style="color: #007020; font-weight: bold;">interface</span> <span style="color: #0e84b5; font-weight: bold;">MainActivityComponent</span> <span style="color: #007020; font-weight: bold;">extends</span> MainFragment<span style="color: #666666;">.</span><span style="color: #4070a0;">Pluser</span><span style="color: #666666;">{</span><br />  <span style="color: #902000;">void</span> <span style="color: #06287e;">injectActivity</span><span style="color: #666666;">(</span>MainActivity mainActivity<span style="color: #666666;">);</span><br />  A <span style="color: #06287e;">provideA</span><span style="color: #666666;">();</span><br />  List<span style="color: #666666;">&lt;</span>String<span style="color: #666666;">&gt;</span> <span style="color: #06287e;">provideDiInjectionHistory</span><span style="color: #666666;">();</span><br />  Log4Me <span style="color: #06287e;">provideLog4Me</span><span style="color: #666666;">();</span><br /><span style="color: #666666;">}</span><br /></pre></div><br /><div>Some example I've seen extends in the ActivityComponent the AppComponent the only reason I've found for doing that is that this way you avoid declaring again the methods that serve the previously provided objects. I don't like that because there is no functional relation and is something that can confuse the readers... Instead of extending AppComponent I extend... YES! &nbsp;A fragment inner interface!! The explanation is quite simple, after having a look at the fragment and his component...<br /><br />MainFragment keeps the same Injection paradigm than BaseInjectionActivity but using BaseInjectionFragment instead <br /><br /></div>MainFragment.class <br /><!-- HTML generated using hilite.me --><br /><div style="background: #f0f0f0; border-width: .1em .1em .1em .8em; border: solid gray; overflow: auto; padding: .2em .6em; width: auto;"><pre style="line-height: 125%; margin: 0;"><span style="color: #007020; font-weight: bold;">public</span> <span style="color: #007020; font-weight: bold;">class</span> <span style="color: #0e84b5; font-weight: bold;">MainFragment</span> <span style="color: #007020; font-weight: bold;">extends</span> BaseFragment<span style="color: #666666;">&lt;</span>MainFragmentComponent<span style="color: #666666;">&gt;</span> <span style="color: #666666;">{</span><br /><span style="color: #666666;">......</span><br />  <span style="color: #555555; font-weight: bold;">@Override</span> <span style="color: #007020; font-weight: bold;">protected</span> <span style="color: #902000;">void</span> initDIComponent<span style="color: #666666;">()</span> <span style="color: #666666;">{</span><br />    fragmentComponent <span style="color: #666666;">=</span> <span style="color: #666666;">(</span>getParentComponent<span style="color: #666666;">(</span>MainActivityComponent<span style="color: #666666;">.</span><span style="color: #4070a0;">class</span><span style="color: #666666;">)).</span><span style="color: #4070a0;">plus</span><span style="color: #666666;">(</span><br />        <span style="color: #007020; font-weight: bold;">new</span> <span style="color: #06287e;">FragmentModule</span><span style="color: #666666;">(</span><span style="color: #007020; font-weight: bold;">this</span><span style="color: #666666;">),</span> <span style="color: #007020; font-weight: bold;">new</span> MainFragmentModule<span style="color: #666666;">(</span><span style="color: #007020; font-weight: bold;">this</span><span style="color: #666666;">));</span><br />    fragmentComponent<span style="color: #666666;">.</span><span style="color: #4070a0;">injectFragment</span><span style="color: #666666;">(</span><span style="color: #007020; font-weight: bold;">this</span><span style="color: #666666;">);</span><br />  <span style="color: #666666;">}</span><br /><br />  <span style="color: #007020; font-weight: bold;">public</span> <span style="color: #007020; font-weight: bold;">interface</span> <span style="color: #0e84b5; font-weight: bold;">Pluser</span><span style="color: #666666;">{</span><br />    MainFragmentComponent <span style="color: #06287e;">plus</span><span style="color: #666666;">(</span>FragmentModule secondFragmentModule<span style="color: #666666;">,</span> MainFragmentModule baseFragmentModule<span style="color: #666666;">);</span><br />  <span style="color: #666666;">}</span><br /><span style="color: #666666;">}</span><br /></pre></div><br />MainFragmentComponent.class <br /><br /><div style="background: #f0f0f0; border-width: .1em .1em .1em .8em; border: solid gray; overflow: auto; padding: .2em .6em; width: auto;"><pre style="line-height: 125%; margin: 0;"><span style="color: #555555; font-weight: bold;">@PerFragment</span><br /><span style="color: #555555; font-weight: bold;">@Subcomponent</span><span style="color: #666666;">(</span> modules <span style="color: #666666;">=</span> <span style="color: #666666;">{</span>FragmentModule<span style="color: #666666;">.</span><span style="color: #4070a0;">class</span><span style="color: #666666;">,</span> MainFragmentModule<span style="color: #666666;">.</span><span style="color: #4070a0;">class</span><span style="color: #666666;">})</span><br /><span style="color: #007020; font-weight: bold;">public</span> <span style="color: #007020; font-weight: bold;">interface</span> <span style="color: #0e84b5; font-weight: bold;">MainFragmentComponent</span><span style="color: #666666;">{</span><br />    <span style="color: #902000;">void</span> <span style="color: #06287e;">injectFragment</span><span style="color: #666666;">(</span>MainFragment mainFragment<span style="color: #666666;">);</span><br /><span style="color: #666666;">}</span><br /></pre></div><br />Yes, the reason is that I implement fragment components as subcomponents. I considered this implementation because relation between activity and fragment usually is close. And the hosting activity component is not declaring the "plus" methods of his fragments instead of this is extending the interfaces declared on those fragments. Using this technique the ActivityComponent does not have to manage so many different types and method that are not his duty. Those methods are declared inside the inner interfaces of each fragment. Above we can see the example, the declaration of the method and the call is responsibility of the same class and Activity only has to delegate specifying that implements some fragment interfaces.<br /><br />Getting back to MainActivityComponent... the reason to declare again A, Log4Me and DiInjectionHistory is that there is another Component-Component relationship. Activity - Section.<br /><br />The meaning of section is quite simple: sometimes a business operation requires a flow that can go forward and backwards over several fragments inside an Activity, moreover Activity contains several flows like this one per each big use case of the application. Each flow has to share information with the fragments that take part in the operation, but the Activity should not know anything about the operation, is not his responsibility. Sections try to be an interesting solution to this problem. Sections are one point between the Activity and the fragments that allow providing there all the tools that several fragments need and share singletons objects, @PerSection scoped properties better said, those properties are used along all the section steps/fragments. The appearance of this component is quite similar to ActivityComponents, because it works using the same paradigm. SectionComponent depends on MainActivityComponent.<br /><br /><!-- HTML generated using hilite.me --><br /><div style="background: #f0f0f0; border-width: .1em .1em .1em .8em; border: solid gray; overflow: auto; padding: .2em .6em; width: auto;"><pre style="line-height: 125%; margin: 0;"><span style="color: #555555; font-weight: bold;">@PerSection</span><br /><span style="color: #555555; font-weight: bold;">@Component</span><span style="color: #666666;">(</span> dependencies <span style="color: #666666;">=</span> MainActivityComponent<span style="color: #666666;">.</span><span style="color: #4070a0;">class</span><span style="color: #666666;">,</span> modules <span style="color: #666666;">=</span> TestSectionModule<span style="color: #666666;">.</span><span style="color: #4070a0;">class</span><span style="color: #666666;">)</span><br /><span style="color: #007020; font-weight: bold;">public</span> <span style="color: #007020; font-weight: bold;">interface</span> <span style="color: #0e84b5; font-weight: bold;">SectionComponentMain</span> <span style="color: #007020; font-weight: bold;">extends</span><br />    FirstFragment<span style="color: #666666;">.</span><span style="color: #4070a0;">Pluser</span><span style="color: #666666;">,</span><br />    SecondFragment<span style="color: #666666;">.</span><span style="color: #4070a0;">Pluser</span><span style="color: #666666;">{</span><br /><span style="color: #666666;">}</span><br /></pre></div><br />Each fragment declares its own plus method.<br /><br />MainActivity is the hosting activity so it manages the when is necessary to create a section component. For this app, FirstFragment and SecondFragment are inside a section. Look carefully at MainActivityCode:<br /><br /><!-- HTML generated using hilite.me --><br /><div style="background: #f0f0f0; border-width: .1em .1em .1em .8em; border: solid gray; overflow: auto; padding: .2em .6em; width: auto;"><pre style="line-height: 125%; margin: 0;"><span style="color: #007020; font-weight: bold;">public</span> <span style="color: #007020; font-weight: bold;">class</span> <span style="color: #0e84b5; font-weight: bold;">MainActivity</span> <span style="color: #007020; font-weight: bold;">extends</span> BaseInjectionActivity<span style="color: #666666;">&lt;</span>MainActivityComponent<span style="color: #666666;">&gt;</span> <span style="color: #007020; font-weight: bold;">implements</span><br />    View<span style="color: #666666;">.</span><span style="color: #4070a0;">OnClickListener</span> <span style="color: #666666;">{</span><br /><br />  <span style="color: #007020; font-weight: bold;">private</span> Button buttonClearFragments<span style="color: #666666;">;</span><br />  <span style="color: #007020; font-weight: bold;">private</span> Button buttonAddFirstFragment<span style="color: #666666;">;</span><br />  <span style="color: #007020; font-weight: bold;">private</span> Button buttonAddSecondFragment<span style="color: #666666;">;</span><br /><span style="color: #666666;">.....</span> <br /> <span style="color: #007020; font-weight: bold;">private</span> Object sectionComponent<span style="color: #666666;">;</span><br /><span style="color: #666666;">.....</span><br />  <span style="color: #555555; font-weight: bold;">@Override</span> <span style="color: #007020; font-weight: bold;">protected</span> <span style="color: #902000;">void</span> initDI<span style="color: #666666;">()</span> <span style="color: #666666;">{</span><br />    activityComponent <span style="color: #666666;">=</span> DaggerMainActivityComponent<span style="color: #666666;">.</span><span style="color: #4070a0;">builder</span><span style="color: #666666;">().</span><span style="color: #4070a0;">appComponent</span><span style="color: #666666;">(</span>getAppComponent<span style="color: #666666;">())</span><br />        <span style="color: #666666;">.</span><span style="color: #4070a0;">activityModule</span><span style="color: #666666;">(</span><span style="color: #007020; font-weight: bold;">new</span> ActivityModule<span style="color: #666666;">(</span><span style="color: #007020; font-weight: bold;">this</span><span style="color: #666666;">))</span><br />        <span style="color: #666666;">.</span><span style="color: #4070a0;">mainActivityModule</span><span style="color: #666666;">(</span><span style="color: #007020; font-weight: bold;">new</span> MainActivityModule<span style="color: #666666;">(</span><span style="color: #007020; font-weight: bold;">this</span><span style="color: #666666;">)).</span><span style="color: #4070a0;">build</span><span style="color: #666666;">();</span><br />    activityComponent<span style="color: #666666;">.</span><span style="color: #4070a0;">injectActivity</span><span style="color: #666666;">(</span><span style="color: #007020; font-weight: bold;">this</span><span style="color: #666666;">);</span><br />  <span style="color: #666666;">}</span><br /><br />  <span style="color: #007020; font-weight: bold;">private</span> <span style="color: #902000;">void</span> <span style="color: #06287e;">initSectionComponent</span><span style="color: #666666;">()</span> <span style="color: #666666;">{</span><br />    sectionComponent <span style="color: #666666;">=</span> DaggerSectionComponentMain<span style="color: #666666;">.</span><span style="color: #4070a0;">builder</span><span style="color: #666666;">().</span><span style="color: #4070a0;">mainActivityComponent</span><span style="color: #666666;">(</span>activityComponent<span style="color: #666666;">).</span><span style="color: #4070a0;">build</span><span style="color: #666666;">();</span><br />  <span style="color: #666666;">}</span><br /><br />  <span style="color: #007020; font-weight: bold;">private</span> <span style="color: #902000;">void</span> <span style="color: #06287e;">clearSectionComponent</span><span style="color: #666666;">(){</span><br />    sectionComponent <span style="color: #666666;">=</span> <span style="color: #007020; font-weight: bold;">null</span><span style="color: #666666;">;</span><br />  <span style="color: #666666;">}</span><br /><br />  <span style="color: #555555; font-weight: bold;">@Override</span><br />  <span style="color: #007020; font-weight: bold;">public</span> Object <span style="color: #06287e;">getActivityComponent</span><span style="color: #666666;">()</span> <span style="color: #666666;">{</span><br />    <span style="color: #007020; font-weight: bold;">if</span> <span style="color: #666666;">(</span>sectionComponent<span style="color: #666666;">!=</span><span style="color: #007020; font-weight: bold;">null</span><span style="color: #666666;">){</span><br />      <span style="color: #007020; font-weight: bold;">return</span> sectionComponent<span style="color: #666666;">;</span><br />    <span style="color: #666666;">}</span><span style="color: #007020; font-weight: bold;">else</span><span style="color: #666666;">{</span><br />      <span style="color: #007020; font-weight: bold;">return</span> activityComponent<span style="color: #666666;">;</span><br />    <span style="color: #666666;">}</span><br />  <span style="color: #666666;">}</span><br /><br />  <span style="color: #555555; font-weight: bold;">@Override</span> <span style="color: #007020; font-weight: bold;">public</span> <span style="color: #902000;">void</span> onClick<span style="color: #666666;">(</span>View v<span style="color: #666666;">)</span> <span style="color: #666666;">{</span><br />    <span style="color: #007020; font-weight: bold;">switch</span> <span style="color: #666666;">(</span>v<span style="color: #666666;">.</span><span style="color: #4070a0;">getId</span><span style="color: #666666;">()){</span><br />      <span style="color: #007020; font-weight: bold;">case</span> R<span style="color: #666666;">.</span><span style="color: #4070a0;">id</span><span style="color: #666666;">.</span><span style="color: #4070a0;">buttonAddFirstFragment</span><span style="color: #666666;">:</span><br />        initSectionComponent<span style="color: #666666;">();</span><br />        addFragment<span style="color: #666666;">(</span><span style="color: #007020; font-weight: bold;">new</span> FirstFragment<span style="color: #666666;">());</span><br />        <span style="color: #007020; font-weight: bold;">break</span><span style="color: #666666;">;</span><br />      <span style="color: #007020; font-weight: bold;">case</span> R<span style="color: #666666;">.</span><span style="color: #4070a0;">id</span><span style="color: #666666;">.</span><span style="color: #4070a0;">buttonAddSecondFragment</span><span style="color: #666666;">:</span><br />        addFragment<span style="color: #666666;">(</span><span style="color: #007020; font-weight: bold;">new</span> SecondFragment<span style="color: #666666;">());</span><br />        <span style="color: #007020; font-weight: bold;">break</span><span style="color: #666666;">;</span><br />      <span style="color: #007020; font-weight: bold;">case</span> R<span style="color: #666666;">.</span><span style="color: #4070a0;">id</span><span style="color: #666666;">.</span><span style="color: #4070a0;">buttonClearFragments</span><span style="color: #666666;">:</span><br />        clearSectionComponent<span style="color: #666666;">();</span><br />        clearFragmentStack<span style="color: #666666;">();</span><br />        <span style="color: #007020; font-weight: bold;">break</span><span style="color: #666666;">;</span><br />      <span style="color: #007020; font-weight: bold;">default</span><span style="color: #666666;">:</span><br />        <span style="color: #007020; font-weight: bold;">break</span><span style="color: #666666;">;</span><br />    <span style="color: #666666;">}</span><br />  <span style="color: #666666;">}</span><br /><span style="color: #666666;">}</span><br /></pre></div><br />Section is initialized for FirstFragment and cleaned when stack pops all the elements. getActivityComponent returns the section if it is initialized because Fragments ask for it with the parametrized method getParentComponent(SectionComponentMain.class) that specifies the component which the Fragment belongs to.<br /><br />Let's look inside FirstFragmentComponent.class<br /><br /><!-- HTML generated using hilite.me --><br /><div style="background: #f0f0f0; border-width: .1em .1em .1em .8em; border: solid gray; overflow: auto; padding: .2em .6em; width: auto;"><pre style="line-height: 125%; margin: 0;"><span style="color: #555555; font-weight: bold;">@PerFragment</span><br /><span style="color: #555555; font-weight: bold;">@Subcomponent</span><span style="color: #666666;">(</span> modules <span style="color: #666666;">=</span> <span style="color: #666666;">{</span>FragmentModule<span style="color: #666666;">.</span><span style="color: #4070a0;">class</span><span style="color: #666666;">,</span> FirstFragmentModule<span style="color: #666666;">.</span><span style="color: #4070a0;">class</span><span style="color: #666666;">})</span><br /><span style="color: #007020; font-weight: bold;">public</span> <span style="color: #007020; font-weight: bold;">interface</span> <span style="color: #0e84b5; font-weight: bold;">FirstFragmentComponent</span> <span style="color: #666666;">{</span><br />    <span style="color: #902000;">void</span> <span style="color: #06287e;">injectFragment</span><span style="color: #666666;">(</span>FirstFragment firstFragment<span style="color: #666666;">);</span><br /><span style="color: #666666;">}</span><br /></pre></div><br />Like activities, in the initialization FragmetModule.class is for providing common instances for all fragments and FirstFragmentModule.class is about specific matters.<br /><br /><h2>To keep in mind</h2><div>Injected Class D, has not any provision method, instead the injection is resolved using its @inject annotated constructor.&nbsp;</div><div><br /></div><div>@Inject annotated constructor cannot obviously provide injections base on interfaces. Moreover, this provisions are not able to specify any Scope, then all the injected fields will have a new instance every time.</div><div><br /></div><div>TestSectionModule provides two objects. The first one, SectionProperty, has the @PerSection annotation that means that this object will be the same for the whole section so FirstFragment and SecondFragment will share the same object. On the other hand NotScopedProperty will not be dealt as a unique instance because is not an annotated with any scope.</div><div><br /></div><div>E is provided exactly in the same way in FirstFragmentModule and SecondFragmentModule, using @PerFragment annotation. The result will be have an instance per fragment of E, absolutely independent.</div><div><br /></div><div>When calling DaggerXXXXComponent.builder().build() as mentioned before the modules with no args constructor are automatically called. For subcomponents happens something similar, having:</div><div><br /></div><div><pre style="font-family: Menlo; text-align: center;"><span style="background-color: white;">@Subcomponent( modules = {FragmentModule.class, FirstFragmentModule.class})</span></pre></div><div><br /></div>And method FirstFragmentComponent.plus(), when plus is called without arguments the no args constructor of FragmentModule and FirstFragmentModule is called.<br /><br /><h2>Update:</h2><div><br />Instead of having AppComponent that serves all the provided objects in the included modules, could be a good practice to create an interface per module that is a candidate to be served in app component and then serve the object there, later the only thing we have to do is extend this interface in our app component, activity component or whatever. Using this technique we achieve 2 interesting things, direct relation between the served objects in the interface and his corresponding module and we get the declared objects in the interface as a bunch of portable elements than can be easily added in any component. Have a look into the commit "<span style="background-color: white;"><span style="color: #596063; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13px; line-height: 1.45; white-space: pre-wrap;">Separate app Component sever objects to an interface,&nbsp;</span><span style="color: #444444; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 12px; line-height: 16.7999992370605px;">3cb035485d154cb4d40c4b721b</span></span><span style="background-color: white; color: #444444; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 12px; line-height: 16.7999992370605px;">a841f5e0479e00</span>" there you have an easy example about this update.<br /><br /></div><h2>Output:</h2><br /><!-- HTML generated using hilite.me --><br /><div style="background: #f0f0f0; border-width: .1em .1em .1em .8em; border: solid gray; overflow: auto; padding: .2em .6em; width: auto;"><pre style="line-height: 125%; margin: 0;">me<span style="color: #666666;">.</span><span style="color: #4070a0;">martinez</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sergio</span><span style="color: #666666;">.</span><span style="color: #4070a0;">daggertwobasearchitecture</span><span style="color: #666666;">.</span><span style="color: #4070a0;">activities</span><span style="color: #666666;">.</span><span style="color: #4070a0;">MainActivity</span><span style="color: #666666;">,</span>  <span style="color: #60a0b0; font-style: italic;">//MainActivity Injected properties</span><br /> me<span style="color: #666666;">.</span><span style="color: #4070a0;">martinez</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sergio</span><span style="color: #666666;">.</span><span style="color: #4070a0;">daggertwobasearchitecture</span><span style="color: #666666;">.</span><span style="color: #4070a0;">utils</span><span style="color: #666666;">.</span><span style="color: #4070a0;">Log4MeImpl</span>@<span style="color: #40a070;">41</span>f70a90<span style="color: #666666;">,</span> <br /> me<span style="color: #666666;">.</span><span style="color: #4070a0;">martinez</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sergio</span><span style="color: #666666;">.</span><span style="color: #4070a0;">daggertwobasearchitecture</span><span style="color: #666666;">.</span><span style="color: #4070a0;">test</span><span style="color: #666666;">.</span><span style="color: #4070a0;">A</span>@<b><u><span style="color: #40a070;">41</span>f70320</u></b><span style="color: #666666;">,</span> <br /> me<span style="color: #666666;">.</span><span style="color: #4070a0;">martinez</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sergio</span><span style="color: #666666;">.</span><span style="color: #4070a0;">daggertwobasearchitecture</span><span style="color: #666666;">.</span><span style="color: #4070a0;">test</span><span style="color: #666666;">.</span><span style="color: #4070a0;">B</span>@<b><u><span style="color: #40a070;">41</span>f8a8c8</u></b><span style="color: #666666;">,</span> <br /> <br />me<span style="color: #666666;">.</span><span style="color: #4070a0;">martinez</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sergio</span><span style="color: #666666;">.</span><span style="color: #4070a0;">daggertwobasearchitecture</span><span style="color: #666666;">.</span><span style="color: #4070a0;">fragments</span><span style="color: #666666;">.</span><span style="color: #4070a0;">MainFragment</span><span style="color: #666666;">,</span>  <span style="color: #60a0b0; font-style: italic;">//MainFragment Injected properties</span><br /> me<span style="color: #666666;">.</span><span style="color: #4070a0;">martinez</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sergio</span><span style="color: #666666;">.</span><span style="color: #4070a0;">daggertwobasearchitecture</span><span style="color: #666666;">.</span><span style="color: #4070a0;">test</span><span style="color: #666666;">.</span><span style="color: #4070a0;">B</span>@<b><u><span style="color: #40a070;">41</span>f8a8c8</u></b><span style="color: #666666;">,</span> <br /> me<span style="color: #666666;">.</span><span style="color: #4070a0;">martinez</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sergio</span><span style="color: #666666;">.</span><span style="color: #4070a0;">daggertwobasearchitecture</span><span style="color: #666666;">.</span><span style="color: #4070a0;">test</span><span style="color: #666666;">.</span><span style="color: #4070a0;">A</span>@<b><u><span style="color: #40a070;">41</span>f70320</u></b><span style="color: #666666;">,</span> <br /> me<span style="color: #666666;">.</span><span style="color: #4070a0;">martinez</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sergio</span><span style="color: #666666;">.</span><span style="color: #4070a0;">daggertwobasearchitecture</span><span style="color: #666666;">.</span><span style="color: #4070a0;">test</span><span style="color: #666666;">.</span><span style="color: #4070a0;">C</span>@<span style="color: #40a070;">41</span>fb6468<span style="color: #666666;">,</span> <br /><br />me<span style="color: #666666;">.</span><span style="color: #4070a0;">martinez</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sergio</span><span style="color: #666666;">.</span><span style="color: #4070a0;">daggertwobasearchitecture</span><span style="color: #666666;">.</span><span style="color: #4070a0;">fragments</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sections</span><span style="color: #666666;">.</span><span style="color: #4070a0;">testsection</span><span style="color: #666666;">.</span><span style="color: #4070a0;">firststep</span><span style="color: #666666;">.</span><span style="color: #4070a0;">FirstFragment</span><span style="color: #666666;">,</span>  <span style="color: #60a0b0; font-style: italic;">//FirstFragment Injected properties </span><br /> me<span style="color: #666666;">.</span><span style="color: #4070a0;">martinez</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sergio</span><span style="color: #666666;">.</span><span style="color: #4070a0;">daggertwobasearchitecture</span><span style="color: #666666;">.</span><span style="color: #4070a0;">fragments</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sections</span><span style="color: #666666;">.</span><span style="color: #4070a0;">testsection</span><span style="color: #666666;">.</span><span style="color: #4070a0;">firststep</span><span style="color: #666666;">.</span><span style="color: #4070a0;">presentation</span><span style="color: #666666;">.</span><span style="color: #4070a0;">FirstFragmentPresenter</span>@<span style="color: #40a070;">41</span>fdce58<span style="color: #666666;">,</span> <br /> me<span style="color: #666666;">.</span><span style="color: #4070a0;">martinez</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sergio</span><span style="color: #666666;">.</span><span style="color: #4070a0;">daggertwobasearchitecture</span><span style="color: #666666;">.</span><span style="color: #4070a0;">test</span><span style="color: #666666;">.</span><span style="color: #4070a0;">NotScopedProperty</span>@<span style="color: red;">41fdd538</span><span style="color: #666666;">,</span> <br /> me<span style="color: #666666;">.</span><span style="color: #4070a0;">martinez</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sergio</span><span style="color: #666666;">.</span><span style="color: #4070a0;">daggertwobasearchitecture</span><span style="color: #666666;">.</span><span style="color: #4070a0;">test</span><span style="color: #666666;">.</span><span style="color: #4070a0;">SectionProperty</span>@<b><u><span style="color: #40a070;">41</span>fdd1c8</u></b><span style="color: #666666;">,</span> <br /> me<span style="color: #666666;">.</span><span style="color: #4070a0;">martinez</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sergio</span><span style="color: #666666;">.</span><span style="color: #4070a0;">daggertwobasearchitecture</span><span style="color: #666666;">.</span><span style="color: #4070a0;">test</span><span style="color: #666666;">.</span><span style="color: #4070a0;">A</span>@<span style="color: #40a070;">41</span>f70320<span style="color: #666666;">,</span> <br /> me<span style="color: #666666;">.</span><span style="color: #4070a0;">martinez</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sergio</span><span style="color: #666666;">.</span><span style="color: #4070a0;">daggertwobasearchitecture</span><span style="color: #666666;">.</span><span style="color: #4070a0;">test</span><span style="color: #666666;">.</span><span style="color: #4070a0;">E</span>@<span style="color: red;">41fdc6d8</span><span style="color: #666666;">,</span> <br /> me<span style="color: #666666;">.</span><span style="color: #4070a0;">martinez</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sergio</span><span style="color: #666666;">.</span><span style="color: #4070a0;">daggertwobasearchitecture</span><span style="color: #666666;">.</span><span style="color: #4070a0;">test</span><span style="color: #666666;">.</span><span style="color: #4070a0;">D</span>@<span style="color: red;">41fdca00</span><span style="color: #666666;">,</span> <br /><br />me<span style="color: #666666;">.</span><span style="color: #4070a0;">martinez</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sergio</span><span style="color: #666666;">.</span><span style="color: #4070a0;">daggertwobasearchitecture</span><span style="color: #666666;">.</span><span style="color: #4070a0;">fragments</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sections</span><span style="color: #666666;">.</span><span style="color: #4070a0;">testsection</span><span style="color: #666666;">.</span><span style="color: #4070a0;">secondstep</span><span style="color: #666666;">.</span><span style="color: #4070a0;">SecondFragment</span><span style="color: #666666;">,</span> <span style="color: #60a0b0; font-style: italic;">//SecondFragment Injected properties</span><br /> me<span style="color: #666666;">.</span><span style="color: #4070a0;">martinez</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sergio</span><span style="color: #666666;">.</span><span style="color: #4070a0;">daggertwobasearchitecture</span><span style="color: #666666;">.</span><span style="color: #4070a0;">fragments</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sections</span><span style="color: #666666;">.</span><span style="color: #4070a0;">testsection</span><span style="color: #666666;">.</span><span style="color: #4070a0;">secondstep</span><span style="color: #666666;">.</span><span style="color: #4070a0;">presentation</span><span style="color: #666666;">.</span><span style="color: #4070a0;">SecondFragmentPresenter</span>@<span style="color: #40a070;">41</span>fe2690<span style="color: #666666;">,</span> <br /> me<span style="color: #666666;">.</span><span style="color: #4070a0;">martinez</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sergio</span><span style="color: #666666;">.</span><span style="color: #4070a0;">daggertwobasearchitecture</span><span style="color: #666666;">.</span><span style="color: #4070a0;">test</span><span style="color: #666666;">.</span><span style="color: #4070a0;">NotScopedProperty</span>@<span style="color: red;">41fe26a0</span><span style="color: #666666;">,</span> <br /> me<span style="color: #666666;">.</span><span style="color: #4070a0;">martinez</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sergio</span><span style="color: #666666;">.</span><span style="color: #4070a0;">daggertwobasearchitecture</span><span style="color: #666666;">.</span><span style="color: #4070a0;">test</span><span style="color: #666666;">.</span><span style="color: #4070a0;">SectionProperty</span>@<b><u><span style="color: #40a070;">41</span>fdd1c8</u></b><span style="color: #666666;">,</span> <br /> me<span style="color: #666666;">.</span><span style="color: #4070a0;">martinez</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sergio</span><span style="color: #666666;">.</span><span style="color: #4070a0;">daggertwobasearchitecture</span><span style="color: #666666;">.</span><span style="color: #4070a0;">utils</span><span style="color: #666666;">.</span><span style="color: #4070a0;">Log4MeImpl</span>@<span style="color: #40a070;">41</span>f70a90<span style="color: #666666;">,</span> <br /> me<span style="color: #666666;">.</span><span style="color: #4070a0;">martinez</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sergio</span><span style="color: #666666;">.</span><span style="color: #4070a0;">daggertwobasearchitecture</span><span style="color: #666666;">.</span><span style="color: #4070a0;">test</span><span style="color: #666666;">.</span><span style="color: #4070a0;">E</span>@<span style="color: red;">41fe26b0</span><span style="color: #666666;">,</span> <br /> me<span style="color: #666666;">.</span><span style="color: #4070a0;">martinez</span><span style="color: #666666;">.</span><span style="color: #4070a0;">sergio</span><span style="color: #666666;">.</span><span style="color: #4070a0;">daggertwobasearchitecture</span><span style="color: #666666;">.</span><span style="color: #4070a0;">test</span><span style="color: #666666;">.</span><span style="color: #4070a0;">D</span>@<span style="color: red;">41fe26c0</span><br /></pre></div><br />A is an App Singleton. B is a PerActivity scoped shared instance. SectionProperty is a PerSection scoped shared instance. All this fields are underlined. Otherwise, the red fields are not scoped and every time the injection returns a new instance. The rest of field are not being shared out of his injected class.<br /><br /><br /><h2>Summarizing</h2><br />After all this information, that is more than I expected to write and maybe more than you expected to read... XD. I wonder if you liked both posts about Dagger 2. Please leave your comments all feedback is well received, try to criticize this post, improve it, copy it, whatever but don't forget to share your experiences.<br /><br />Github Project:&nbsp;<a href="https://github.com/fSergio101/DaggerTwoBaseArchitecture">https://github.com/fSergio101/DaggerTwoBaseArchitecture</a><br /><br /><h2>References:</h2><h3><a href="http://fernandocejas.com/2015/04/11/tasting-dagger-2-on-android/" target="_blank">Tasting Dagger 2 on Android</a></h3><h3><a href="https://publicobject.com/2014/11/15/dagger-2-has-components/" target="_blank">Dagger 2 has Components.</a></h3><h3><a href="http://google.github.io/dagger/" target="_blank">Dagger 2 Official Documentation.</a></h3><h3><a href="https://blog.gouline.net/2015/05/04/dagger-2-even-sharper-less-square" target="_blank">Dagger 2: Even sharper, less square - Gouline Labs</a></h3><h3><a href="http://es.slideshare.net/PedroVicenteGmezSnch/dependency-injection-on-android-spanish" target="_blank">Dependency injection on Android</a></h3><h3><a href="http://antonioleiva.com/dependency-injection-android-dagger-part-1/" target="_blank">Dependency injection on Android:Dagger</a></h3>

<h2>Related posts in blog:</h2>
<a href="{% post_url 2015-08-14-dagger-2-why-not %}">Dagger 2... Why not?</a>

<h2>Navigation</h2>
<div class="PageNavigation">
  {% if page.previous.url %}
    <a class="prev" href="{{page.previous.url}}">&laquo; {{page.previous.title}}</a>
  {% endif %}
  {% if page.next.url %}
    <a class="next" href="{{page.next.url}}">{{page.next.title}} &raquo;</a>
  {% endif %}
</div>